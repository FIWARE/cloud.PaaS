<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:tx="http://www.springframework.org/schema/tx"
    xsi:schemaLocation="http://www.springframework.org/schema/beans
              http://www.springframework.org/schema/beans/spring-beans-3.0.xsd"
    default-autowire="no">

       <!-- RESOURCES -->

    <bean id="applicationInstanceResource" lazy-init="true"
        class="com.telefonica.euro_iaas.paasmanager.rest.resources.ApplicationInstanceResourceImpl">
        <property name="validator" ref="applicationInstanceResourceValidator"/>
    </bean>
    <bean id="environmentInstanceResource" lazy-init="true"
        class="com.telefonica.euro_iaas.paasmanager.rest.resources.EnvironmentInstanceResourceImpl">
        <property name="validator" ref="environmentInstanceResourceValidator"/>
        <property name="extendedOVFUtil" ref="extendedOVFUtil"/>
        <property name="ovfGeneration" ref="ovfGeneration"/>
        <property name="environmentTypeDao" ref="environmentTypeDao"/>
        <property name="systemPropertiesProvider" ref="systemPropertiesProvider"/>  
   </bean>
   <bean id="environmentInstanceOvfResource" lazy-init="true"
        class="com.telefonica.euro_iaas.paasmanager.rest.resources.EnvironmentInstanceOvfResourceImpl">
        <property name="validator" ref="environmentInstanceResourceValidator"/>
        <property name="extendedOVFUtil" ref="extendedOVFUtil"/>
        <property name="ovfMacro" ref="ovfMacro"/>
        <property name="environmentTypeDao" ref="environmentTypeDao"/>  
   </bean>
   <bean id="tierInstanceResource" lazy-init="true"
        class="com.telefonica.euro_iaas.paasmanager.rest.resources.TierInstanceResourceImpl">
        <property name="validatorTierInstance" ref="tierInstanceResourceValidator"/> 
        <property name="extendedOVFUtil" ref="extendedOVFUtil"/>
       <!--  <property name="tierTypeDao" ref="tierTypeDao"/>  --> 
   </bean>
   <!-- <bean id="tierResource" lazy-init="true"
        class="com.telefonica.euro_iaas.paasmanager.rest.resources.TierResourceImpl">
       
   </bean>-->
  
    <!-- ===========
    == VALIDATORS ==
    ================ -->

    <bean id="applicationInstanceResourceValidator" lazy-init="true"
        class="com.telefonica.euro_iaas.paasmanager.rest.validation.ApplicationInstanceResourceValidatorImpl">
    </bean>
    <bean id="environmentInstanceResourceValidator" lazy-init="true"
        class="com.telefonica.euro_iaas.paasmanager.rest.validation.EnvironmentInstanceResourceValidatorImpl">
        <property name="claudiaUtil" ref="claudiaUtil"/>   
    </bean>
    
    <bean id="tierInstanceResourceValidator" lazy-init="true"
        class="com.telefonica.euro_iaas.paasmanager.rest.validation.TierInstanceResourceValidatorImpl">  
    </bean>
    
    <!-- ===========
    == UTIL ==
    ================ -->
     <bean id="extendedOVFUtil" lazy-init="true"
        class="com.telefonica.euro_iaas.paasmanager.rest.util.ExtendedOVFUtilImpl">
        <property name="claudiaUtil" ref="claudiaUtil"/>
        <property name="systemPropertiesProvider" ref="systemPropertiesProvider"/>
     </bean>
     <bean id="ovfMacro" lazy-init="true"
           class="com.telefonica.euro_iaas.paasmanager.rest.util.OVFMacroImpl">
         <property name="extendedOVFUtil" ref="extendedOVFUtil"/>
     </bean>
     <bean id="ovfGeneration" lazy-init="true"
           class="com.telefonica.euro_iaas.paasmanager.rest.util.OVFGenerationFiwareImpl">
         <property name="systemPropertiesProvider" ref="systemPropertiesProvider"/>
     </bean>
   
</beans>
