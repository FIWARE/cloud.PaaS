<?xml version="1.0"?>
<!-- POST http://tcloud.com/api/org/1/vdc/1/action/instantiateOvf -->
<!--

   BB->Mngt

   Aditional comments:
      * This example is based on TCloud API Core spec. Therefore, it lacks some ponteally important information, such
        as contract information, etc. The Enterprise-Class VDC Management extension has to be reviewed in order to check
        how this example would be modified.
-->
<InstantiateOvfParams xmlns="http://schemas.tcloud.telefonica.com/tcloud/1" xmlns:ovf="http://schemas.dmtf.org/ovf/envelope/1" xmlns:rasd="http://schemas.dmtf.org/wbem/wscim/1/cim-schema/2/CIM_ResourceAllocationSettingData" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://schemas.tcloud.telefonica.com/tcloud/1 ../../../tags/core/v0.11/tcloud.xsd" name="Service">
	<Description>This VApp is for illustring use cases in REC</Description>
	<ovf:Envelope>
		<ovf:References>
			<ovf:File ovf:id="dskimg-01" ovf:href="http://tcloud.com/api/media/rhel5.5/rhel5.5.vmdk"/>
			<ovf:File ovf:id="dskimg-02" ovf:href="http://tcloud.com/api/media/rhel5.5/rhel5.5.vmdk"/>
			<ovf:File ovf:id="dskimg-03" ovf:href="http://tcloud.com/api/media/rhel5.5/rhel5.5.vmdk"/>
		</ovf:References>
		<ovf:DiskSection>
			<ovf:Info>Disk section</ovf:Info>
			<ovf:Disk ovf:diskId="dsk-01" ovf:fileRef="dskimg-01" ovf:capacity="8589934592"/>
			<ovf:Disk ovf:diskId="dsk-02" ovf:fileRef="dskimg-02" ovf:capacity="8589934592"/>
			<ovf:Disk ovf:diskId="dsk-03" ovf:fileRef="dskimg-03" ovf:capacity="8589934592"/>
		</ovf:DiskSection>
		<ovf:NetworkSection>
			<ovf:Info>Logical description of networks</ovf:Info>
			<ovf:Network ovf:name="net-01"/>
		</ovf:NetworkSection>
		<ovf:VirtualSystemCollection ovf:id="Service">
			<ovf:Info>
					</ovf:Info>
			<ovf:VirtualSystem ovf:id="fe">
				<ovf:Info>Description of Apache</ovf:Info>
				<ovf:Name>Apache</ovf:Name>
				<ovf:VirtualHardwareSection>
					<ovf:Info>Virtual hardware requirements</ovf:Info>
					<ovf:Item>
						<rasd:AllocationUnits>hertz * 10^6</rasd:AllocationUnits>
						<rasd:Description>Number of Virtual CPUs</rasd:Description>
						<rasd:ElementName>1 virtual CPU(s)</rasd:ElementName>
						<rasd:InstanceID>1</rasd:InstanceID>
						<rasd:ResourceType>3</rasd:ResourceType>
						<rasd:VirtualQuantity>1</rasd:VirtualQuantity>
					</ovf:Item>
					<ovf:Item>
						<rasd:ElementName>4GB of memory</rasd:ElementName>
						<rasd:InstanceID>3</rasd:InstanceID>
						<rasd:ResourceType>4</rasd:ResourceType>
						<rasd:VirtualQuantity>4096</rasd:VirtualQuantity>
						<rasd:VirtualQuantityUnits>byte * 2 ^ 20</rasd:VirtualQuantityUnits>
					</ovf:Item>
					<ovf:Item>
						<rasd:ElementName>System Disk</rasd:ElementName>
						<rasd:HostResource>ovf://disk/dsk-02</rasd:HostResource>
						<rasd:InstanceID>1</rasd:InstanceID>
						<rasd:ResourceType>17</rasd:ResourceType>
					</ovf:Item>
					<ovf:Item>
						<rasd:Connection>net-01</rasd:Connection>
						<rasd:ElementName>Virtual NIC #1</rasd:ElementName>
						<rasd:InstanceID>2</rasd:InstanceID>
						<rasd:ResourceType>10</rasd:ResourceType>
					</ovf:Item>
				</ovf:VirtualHardwareSection>
			</ovf:VirtualSystem>
			<ovf:VirtualSystem ovf:id="be">
				<ovf:Info>Description of JBoss</ovf:Info>
				<ovf:Name>JBoss</ovf:Name>
				<ovf:VirtualHardwareSection>
					<ovf:Info>Virtual hardware requirements</ovf:Info>
					<ovf:Item>
						<rasd:AllocationUnits>hertz * 10^6</rasd:AllocationUnits>
						<rasd:Description>Number of Virtual CPUs</rasd:Description>
						<rasd:ElementName>1 virtual CPU(s)</rasd:ElementName>
						<rasd:InstanceID>1</rasd:InstanceID>
						<rasd:ResourceType>3</rasd:ResourceType>
						<rasd:VirtualQuantity>1</rasd:VirtualQuantity>
					</ovf:Item>
					<ovf:Item>
						<rasd:ElementName>1GB of memory</rasd:ElementName>
						<rasd:InstanceID>3</rasd:InstanceID>
						<rasd:ResourceType>4</rasd:ResourceType>
						<rasd:VirtualQuantity>1024</rasd:VirtualQuantity>
						<rasd:VirtualQuantityUnits>byte * 2 ^ 20</rasd:VirtualQuantityUnits>
					</ovf:Item>
					<ovf:Item>
						<rasd:ElementName>System Disk</rasd:ElementName>
						<rasd:HostResource>ovf://disk/dsk-01</rasd:HostResource>
						<rasd:InstanceID>1</rasd:InstanceID>
						<rasd:ResourceType>17</rasd:ResourceType>
					</ovf:Item>
					<ovf:Item>
						<rasd:Connection>net-01</rasd:Connection>
						<rasd:ElementName>Virtual NIC #1</rasd:ElementName>
						<rasd:InstanceID>2</rasd:InstanceID>
						<rasd:ResourceType>10</rasd:ResourceType>
					</ovf:Item>
				</ovf:VirtualHardwareSection>
			</ovf:VirtualSystem>
			<ovf:VirtualSystem ovf:id="db">
				<ovf:Info>Description of MySQL</ovf:Info>
				<ovf:Name>MySQL</ovf:Name>
				<ovf:VirtualHardwareSection>
					<ovf:Info>Virtual hardware requirements</ovf:Info>
					<ovf:Item>
						<rasd:AllocationUnits>hertz * 10^6</rasd:AllocationUnits>
						<rasd:Description>Number of Virtual CPUs</rasd:Description>
						<rasd:ElementName>1 virtual CPU(s)</rasd:ElementName>
						<rasd:InstanceID>1</rasd:InstanceID>
						<rasd:ResourceType>3</rasd:ResourceType>
						<rasd:VirtualQuantity>1</rasd:VirtualQuantity>
					</ovf:Item>
					<ovf:Item>
						<rasd:ElementName>2GB of memory</rasd:ElementName>
						<rasd:InstanceID>3</rasd:InstanceID>
						<rasd:ResourceType>4</rasd:ResourceType>
						<rasd:VirtualQuantity>2048</rasd:VirtualQuantity>
						<rasd:VirtualQuantityUnits>byte * 2 ^ 20</rasd:VirtualQuantityUnits>
					</ovf:Item>
					<ovf:Item>
						<rasd:ElementName>System Disk</rasd:ElementName>
						<rasd:HostResource>ovf://disk/dsk-03</rasd:HostResource>
						<rasd:InstanceID>1</rasd:InstanceID>
						<rasd:ResourceType>17</rasd:ResourceType>
					</ovf:Item>
					<ovf:Item>
						<rasd:Connection>net-01</rasd:Connection>
						<rasd:ElementName>Virtual NIC #1</rasd:ElementName>
						<rasd:InstanceID>2</rasd:InstanceID>
						<rasd:ResourceType>10</rasd:ResourceType>
					</ovf:Item>
				</ovf:VirtualHardwareSection>
			</ovf:VirtualSystem>
		</ovf:VirtualSystemCollection>
	</ovf:Envelope>
	<InstantiationParams>
		<NetworkConfigSection ovf:required="true">
			<ovf:Info>Network configuration for VApp</ovf:Info>
			<NetworkConfig name="net-01">
				<NetworkAssociation href="http://tcloud.com/api/org/1/vdc/1/net/1"/>
			</NetworkConfig>
		</NetworkConfigSection>
		<ElementInstantiationParams ref="ovf:/vsys/fe">
			<IPConfigSection ovf:required="true">
				<ovf:Info>IP configuration for virtual system fe</ovf:Info>
				<IPConfig>
					<IPv4Address>10.1.1.1</IPv4Address>
				</IPConfig>
			</IPConfigSection>
		</ElementInstantiationParams>
		<ElementInstantiationParams ref="ovf:/vsys/be">
			<IPConfigSection ovf:required="true">
				<ovf:Info>IP configuration for virtual system be</ovf:Info>
				<IPConfig>
					<IPv4Address>10.1.1.2</IPv4Address>
				</IPConfig>
			</IPConfigSection>
		</ElementInstantiationParams>
		<ElementInstantiationParams ref="ovf:/vsys/db">
			<IPConfigSection ovf:required="true">
				<ovf:Info>IP configuration for virtual system db</ovf:Info>
				<IPConfig>
					<IPv4Address>10.1.1.3</IPv4Address>
				</IPConfig>
			</IPConfigSection>
		</ElementInstantiationParams>
	</InstantiationParams>
</InstantiateOvfParams>
